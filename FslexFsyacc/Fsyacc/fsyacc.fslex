%{
open FslexFsyacc.Fsyacc.FsyaccToken
%}

any = ["%%" "%left" "%nonassoc" "%prec" "%right" ":" ";" "IDENTIFIER" "QUOTE" "SEMANTIC" "|" HEADER]

%%

BOF [";" "%%"]*			         { [] }
[";" "%%"]* EOF			         { [] }
HEADER [";" "%%"]*               { [lexbuf.[0]] }
";"* "%%" ";"* 				     { [PERCENT] }
";" ";"+			             { [SEMICOLON] }
SEMANTIC IDENTIFIER ":"	         { lexbuf.Head :: SEMICOLON :: lexbuf.Tail }
{any}			                 { lexbuf }

